# 필드 이동

```jsx
class Customer {
	get plan() {return this._plan;}
	get discountRate() {return this._discountRate;}
}
```

↓

```jsx
class Customer {
	get plan() {return this._plan;}
	get discountRate() {return this.plan.discountRate;}
}
```

<aside>
⚠️ *올바른 데이터 구조가 단순하고 간결한 동작 코드를 만든다.*

</aside>

<aside>
⚠️ *"...적절치 않다는 것을 깨닫게 되면 곧바로 수정해야 한다."*

</aside>

주의사항

- **한 레코드를 변경시 다른 레코드의 필드까지 변경**해야한다면 **필드의 위치**가 **잘못**된 것
- **구조체 여러 개의 정의된 똑같은 필드들을 갱신**해야 한다면 **한 번만 갱신해도 되는 다른 위치**로 **이동** 시킬 것
- 당장 **옮기려는 데이터**가 사용되는 **패턴**때문에 옮길 수 없다면 사용되는 **패턴을 리펙토링후** 필드를 옮길 것

절차

1. 소스 필드가 캡슐화되어 있지 않다면 캡슐화한다.(getter&setter 만들기)
2. 테스트
3. 타깃 객체에 필드(와 접근자 메서드들)를 생성
4. 정적 검사
5. 소스 객체에서 타깃 객체를 참조할 수 있는지 확인
    - 기존 필드나 메서드중 타깃 객체를 넘겨 주는 것이 없다면 이런 기능의 메서드를 쉽게 만들 수 있는지 조사할 것
    - 쉽지 않다면 타깃 객체를 저장할 새 필드를 **소스 객체에 생성**할 것

        (충분한 리펙터링 이후 삭제 가능)

6. 접근자들이 타깃 필드를 사용하게끔 수정
7. 테스트
8. 소스 필드 제거
9. 테스트
