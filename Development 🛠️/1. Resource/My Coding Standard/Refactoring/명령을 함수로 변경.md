# 명령을 함수로 변경

반대 리펙터링: [[함수를 명령으로 변경]]

```jsx
class ChargeCalculator {
		constructor(customer, usage) {
		this._customer = customer;
		this._usage = usage;
	}
	execute() => this._customer.rate * this._usage;
}
```

↓

```jsx
function charge(customer, usage) => customer.rate * usage;
```

<aside>
💬 명령 객체는 복잡한 연산을 다룰 수 있는 강력한 매커니즘을 제공하지만 그닥 복잡하지도 않은 연산을 명령 객체로 만든다면 장점보단 단점이 크다. 이 기법은 이때 적용하는 기법이다.

</aside>

### 절차

1. 명령을 생성하는 코드와 명령의 실행 메서드를 호출하는 코드를 함께 [[함수로 추출]]
2. [[명령의 실행 함수]]가 호출하는 보조 메서드들 각각을 [[인라인]]
    - 보조 메서드가 값을 반환한다면 함수를 인라인에 앞서 [[변수 추출]]을 적용
3. 함수 선언 변경을 적용해 생성자의 매개 변수 모두를 명령의 실행 메서드로 이동
4. 명령의 실행 메서드중 참조하는 필드들 대신 대응하는 매개변수로 수정
    - (1수정 1테스트)
5. 생성자 호출과 명령의 실행 메서드 호출을 호출자(대체 함수) 안으로 인라인
6. 테스트
7. [[죽은 코드 제거]]로 명령 클래스 제거
