# λ νΌλ°μ¤

## λ νΌλ°μ¤λ€?

<aside>
π’΅ λ³€μ λλ” μƒμλ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°μ™€ λ‹¤λ¥Έ λ λ‹¤λ¥Έ λ°©λ²•

</aside>

### μ‚¬μ©λ²•

```jsx
int a = 12;

int& anotherA = a;
```

- μ„¤λ…
    - `anotherA`λ” `a`μ λ νΌλ°μ¤μ΄λ‹¤.
    - λ νΌλ°μ¤λ” μ»΄νμΌλ¬ μƒμ—μ„ `a`μ λ³„μΉ­μΌλ΅μ¨ λ€μ²΄λλ‹¤.

### νΉμ§•

1. λ νΌλ°μ¤λ” μ»΄νμΌλ¬μƒμ—μ„ νΉμ • λ³€μλ¥Ό μλ―Έν•λ„λ΅ λ³„λ…μΌλ΅μ¨ μΉν™μ΄ λλ‹¤.
2. λ©”λ¨λ¦¬μƒμ— νΉλ³„ν• μΌμ΄ μ—†μΌλ©΄ κ³µκ°„μ„ μ°¨μ§€ν•μ§€ μ•λ”λ‹¤.
3. λ°λ“μ‹ μ„ μ–Έμ™€ λ™μ‹μ— μ΄κΈ°ν™”λ¥Ό μ§„ν–‰ν•΄μ•Όν•λ‹¤.

    κ·Έλ ‡μ§€ μ•μΌλ©΄ μ»΄νμΌ μ¤λ¥λ¥Ό μ•ΌκΈ°ν•λ‹¤.

4. ν•λ² λ νΌλ°μ¤λ΅ μ§€μ •λ λ νΌλ°μ¤λ” λ‹¤λ¥Έ λ³€μμ λ νΌλ°μ¤κ°€ λμ§€ μ•λ”λ‹¤. λ”°λΌμ„ immutable ν•λ‹¤.

    λ‹¤λ¥Έ λ³€μλ¥Ό μ§€μ •μ‹ν‚¤λ©΄ μ»΄νμΌ μ¤λ¥λ¥Ό μ•ΌκΈ°ν•λ‹¤.

5. ν•¨μ νλΌλ―Έν„°λ΅ λ νΌλ°μ¤λ¥Ό μ‚¬μ©ν•κ² λλ©΄ ν•΄λ‹Ή λ³€μλ¥Ό μ§μ ‘μ μΌλ΅ λ€μ²΄ν•κ² λλ‹¤.

    λ”°λΌμ„ ν¬μΈν„° μ—†μ΄ λ‹¤λ¥Έ ν•¨μμ—μ„ μ™Έλ¶€ λ³€μμ— μ ‘κ·Όν•  μ μκ² λλ‹¤.

    μ™Έλ¶€ ν•¨μμ—μ„ λ©”λ¨λ¦¬λ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  (ν¬μΈν„° μ—†μ΄) μ™Έλ¶€ λ³€μμ— μ ‘κ·Όν•κ² λ§λ“λ” c++ λ νΌλ°μ¤μ νΉμ§•!


### ν¬μΈν„°μ™€μ μ°¨μ΄μ 

1. ν¬μΈν„°λ” λ©”λ¨λ¦¬ κ³µκ°„μ„ λ¬΄μ΅°κ±΄ μ°¨μ§€ν•μ§€λ§ λ νΌλ°μ¤λ” κ°™μ€ μ¤νƒ ν”„λ μ„μΌ κ²½μ° μ°¨μ§€ν•μ§€ μ•λ”λ‹¤.
2. ν¬μΈν„°λ” λ³€μμ μ£Όμ†κ°’μ„ κ°€λ¦¬ν‚¤μ§€λ§ λ νΌλ°μ¤λ” λ³€μ κ·Έ μμ²΄λ¥Ό λ³„μΉ­μΌλ΅μ¨ μλ―Έν•λ‹¤.
3. `cin`μΌλ΅ μ…λ ¥μ„ λ°›μ„λ• `&`μ„ λ³€μμ•μ— λ¶™μ΄μ§€ μ•λ” μ΄μ λ” λ νΌλ°μ¤λ΅μ¨ λ™μ‘ν•κΈ° λ•λ¬Έμ΄λ‹¤.

### μ¥μ 

1. κ°™μ€ μ¤νƒμ—μ„ μ‚¬μ©ν•λ©΄ μΌλ°μ μΌλ΅ λ©”λ¨λ¦¬λ¥Ό λ¨Ήμ§€ μ•λ”λ‹¤.
2. λ©”λ¨λ¦¬λ¥Ό λ¨Ήμ§€ μ•μΌλ©΄μ„ ν° κµ¬μ΅°μ²΄λ¥Ό λ°μ΄ν„° μ „λ‹¬μ© μλ£κµ¬μ΅°λ΅μ¨

    ν° κµ¬μ΅°μ²΄λ¥Ό νλΌλ―Έν„°λ΅ λ„κΈ°κ² λλ©΄ λ³µμ‚¬ μ½”μ¤νΈκ°€ λ§μ΄ λ“¤μ§€λ§

    μ΄λ¥Ό λ°©μ§€ν•λ” λ°©λ²•μ€ Cμ—μ„λ” ν¬μΈν„°, C++μ—μ„λ” μΌλ°μ μΌλ΅ λ νΌλ°μ¤κ°€ μ‚¬μ©λλ‹¤.

    κ·Έλ¬λ‚ μ‚¬μ‹¤ μ½”μ¤νΈλ” λΉ„μ·ν•κ² λ“¤μ–΄κ°„λ‹¤.

    μ–΄μ°¨ν”Ό λ νΌλ°μ¤λ” μ™Έλ¶€μ—μ„ μƒμ„±ν• κµ¬μ΅°μ²΄ λ³€μμ λ νΌλ°μ¤λ¥Ό λ„κ²¨μ•Όν•λ©°

    μ΄ λ§¤κ°λ³€μλ¥Ό λ°›κΈ° μ„ν•΄μ„  ν•΄λ‹Ή μ΄ λ νΌλ°μ¤ λ³€μλ” λ©”λ¨λ¦¬μ— μ¬λΌκ°€κ² λλ‹¤.

    μ΄λ¬λ‚ μ €λ¬λ‚ λ©”λ¨λ¦¬λ” λ¨Ήλ”κ±΄ λ§¤ν•κ°€μ§€λΌλ” κ²ƒ,

    κ·ΈλΌμ—λ„ λ¶κµ¬ν•κ³  C++μ—μ„λ” λ‹¤μκ³Ό κ°™μ€ μ΄μ λ΅ λ νΌλ°μ¤ μ‚¬μ©μ„ κ¶μ¥ν•λ‹¤.

    - C++μ—μ„ κ¶μ¥ν•λ” μ΄μ 
        1. NULL μ•μ •μ„±

            λ νΌλ°μ¤μ κΈ°λ³Έμ μΈ νΉμ§•μ€ λ°λ“μ‹ μƒμ„±κ³Ό λ™μ‹μ— μ΄κΈ°ν™”λ¥Ό ν•΄μ•Όν•λ‹¤.

            μ΄λ• ν¬μΈν„°μ™€ λ‹¬λ¦¬ null ν• λ‹Ήμ΄ λ‹Ήμ—°ν λ¶κ°€λ¥ν•λ―€λ΅ NULLμ—μ„ μ•μ „ν• μ½”λ“μ‘μ„±μ΄ κ°€λ¥ν•λ‹¤.

        2. λ©”λ¨λ¦¬ λ΅λ”© μ‹¤μ λ°©μ§€

            ν¬μΈν„°λ” κΈ°λ³Έμ μΌλ΅ μ£Όμ†κ°’ λ³€μμ΄λ‹¤.

            κ±°κΈ°μ— μ¶©λ¶„ν μ—‰λ±ν• λ³€μμ μ£Όμ†λ¥Ό μ§€μ •ν•  μλ„ μλ‹¤.

            λ νΌλ°μ¤λ” λ‹¤λ¥Έ λ³€μ μ§€μ •μ‹ μ»΄νμΌνƒ€μ„μ— μ—λ¬λ¥Ό λ‚΄κΈ° λ•λ¬Έμ— μ•μ „ν• μ½”λ“μ‘μ„±μ΄ κ°€λ¥ν•λ‹¤.


### λ νΌλ°μ¤κ°€ λ©”λ¨λ¦¬ κ³µκ°„μ„ μ΅μ•„λ¨Ήλ” κ²½μ°

μ‹¤ν–‰νλ¦„μƒ μ¤νƒ λ°– λ³€μμ λ νΌλ°μ¤λ¥Ό λ‹¤λ¥Έ μ¤νƒμ—μ„ νΈμ¶ν•λ” κ²½μ°(μ‹¤ν–‰νλ¦„μ΄ ν• μ¤νƒν”„λ μ„μ—μ„ λ‹¤λ¥Έ μ¤νƒ ν”„λ μ„μΌλ΅ μ®κ²¨μ§€λ” κ²½μ°)

νΉν μ΄ λ νΌλ°μ¤λ¥Ό μ μ§€ν•΄μ•Ό ν•  ν•„μ”κ°€ μμ„ λ• λ©”λ¨λ¦¬λ¥Ό μ”κµ¬ν•λ‹¤.

- μμ‹
    1. λ νΌλ°μ¤λ¥Ό λ§¤κ°λ³€μλ΅ λ„κ²¨μ•Όν•λ” κ²½μ°
    2. λ νΌλ°μ¤λ΅ λ§¤κ°λ³€μλ¥Ό λ„κΈ°κ³  λ‹¤μ‹ λ°ν™ν•λ” κ²½μ° (μ–΄μ°λμ—λ“  1λ²κ³Ό κ°™μ€ κ²½μ°)

### μ£Όμμ 

1. λ νΌλ°μ¤λ¥Ό λ°ν™ν•λ” ν•¨μλ¥Ό λ§λ“¤λ•, ν•΄λ‹Ή λ νΌλ°μ¤λ” μ™Έλ¶€ λ³€μμ λ νΌλ°μ¤λ¥Ό λ°›μ•„μ•Όν•λ‹¤. [**Dangling**]
    - μμ‹

        ```cpp
        #include <iostream>

        int& functionA(int& ref) {
          // ... κΈ°νƒ€ κ°μΆ… μ²λ¦¬
          return ref;
        }

        int& functionB() {
        	int functionBInteger = 10;
        	int& functionBIntegerRef = functionBInteger;
          // ... κΈ°νƒ€ κ°μΆ… μ²λ¦¬
          return functionBIntegerRef;
        }

        int main() {
        	int integerA = 10;
        	int& integerARef = integerA;
          int& functionARef = functionA(integerARef); // OK!
        	int& functionBRef = functionB(); // **Dangling**! μΌλ°μ μΌλ΅ λ°νƒ€μ„μ—λ¬κ°€ λ°μƒ,
        																	// κ²½μ°μ— λ”°λΌ κ·Έλƒ¥ λ™μ‘λλ” κ²½μ°λ„ μλ‹¤κ³ ν•¨
        																	// ν—λ‚ λ¬΄μ΅°κ±΄ μ΄λ ‡κ² μ§€μ—­λ³€μμ λ νΌλ°μ¤λ¥Ό λ„κΈ°λ” μΌμ€ μ λ€! μ•λλ‹¤.
          std::cout << "c : " << c << std::endl;

          return 0;
        }
        ```

    - μ΄μ 

        ν•¨μμ—μ„ λ νΌλ°μ¤λ¥Ό λ°”λ΅ λ°ν™ν•κ² λλ©΄ ν•¨μμ λ¦¬ν„΄λλ” λ νΌλ°μ¤ λ€μƒμΈ μ§€μ—­ λ³€μλ” μ†λ©Έλλ―€λ΅

        μ–΄λ””μ— μλ” λ³€μμΈμ§€ μ»΄νμΌλ¬κ°€ μμΈ΅ν•μ§€ λ»ν•λ‹¤.

2. μ™Έλ¶€ λ³€μ λ νΌλ°μ¤κ°€ μ•„λ‹ μ§€μ—­λ³€μλ¥Ό λ νΌλ°μ¤μ λ³€μλ΅μ¨ μ „λ‹¬ λ°›λ”λΌλ„ `const`λ¥Ό λ¶™μ΄λ©΄

    μ»΄νμΌλ¬κ°€ ν•΄λ‹Ή μ§€μ—­λ³€μλ¥Ό νΈμ¶λ¶€ μ¤νƒμ— λ©”λ¨λ¦¬λ΅ μ¬λ ¤μ¤€λ‹¤.

    - μμ‹

        ```cpp
        #include <iostream>

        int function() {
          int a = 5;
          return a;
        }

        int main() {
          const int& c = function(); // OK!
          std::cout << "c : " << c << std::endl;
          return 0;
        }
        ```

    - μ΄μ 

        `const`λ” κΈ°λ³Έμ μΌλ΅ μ»΄νμΌ λ‹¨κ³„μ—μ„ μƒμλ΅μ¨ μ„ μ–Έλ μ¤νƒμ— κ³ μ •μ‹μΌμ•Όν•  λ³€μλ¥Ό λ¬΄μ΅°κ±΄ μ¤νƒμμ—­ λ©”λ¨λ¦¬μ— μ¬λ¦¬λ„λ΅ λ§λ“λ” λ‹¨κ³„μ΄λ‹¤.

        μ΄λ•, μ™Έλ¶€ ν•¨μμ λ¦¬ν„΄μΌλ΅ λ νΌλ°μ¤λ¥Ό λ°›λ”λ‹¤κ³  ν•΄λ„ μ΄κ²½μ° λ©”λ¨λ¦¬μ— μ¬λ ¤λ²„λ¦°λ‹¤.

3. 2μ μ΄μ λ΅ λ νΌλ°μ¤λ¥Ό μƒμν™” ν•λ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤.
    - μμ‹

        ```cpp
        #include <iostream>

        int main() {
          const int& aInteger = 10; // OK!
          return 0;
        }
        ```

    - μ΄μ 

        constλ” μ»΄νμΌ λ‹¨κ³„μ—μ„ μƒμλ΅μ¨ μ„ μ–Έλ μ¤νƒμ— κ³ μ •μ‹μΌμ•Όν•  λ³€μλ¥Ό λ¬΄μ΅°κ±΄ μ¤νƒμμ—­μ— μ¬λ¦°λ‹¤κ³  ν–λ‹¤.

        **κ·Έλ¦¬κ³  μμ‹μ λ¦¬ν„°λ΄ μƒμλ„ ν•΄λ‹Ή rowμ—λ§ μ‚΄μ•„ μλ” μƒμλ΅ μ‚¬μ‹¤ μ΄ μƒμκ°’λ„ λ©”λ¨λ¦¬λ¥Ό λ¨Ήλ”λ‹¤.**

        κ·Έλμ„ λ‹¤μ μμ‹μ™€ κ°™μ€ λ¬Έμ¥μ΄ κ°€λ¥ν•λ‹¤.

        ```cpp
        #include <iostream>

        int add(const int &num1, const int &num2){
        	return num1 + num2;
        }

        int main() {
          std::cout << "add result: " << add(10, 20) << std::endl;;
          return 0;
        }
        ```

        ν•¨μ νμ΄μ§€μ—μ„ μ„¤λ…ν–μ§€λ§ λ‹¨μ κ°’ μ „λ‹¬μ„ μ„ν• ν¬μΈν„°, λ νΌλ°μ¤ νλΌλ―Έν„°λ” constλ¥Ό λ¶™μ—¬μ£Όλ”κ² μΆ‹μΌλ©°

        ν•¨μμ νλΌλ―Έν„°λ” λ””μ»΄νμΌμ„ ν•΄λ³΄λ©΄ ν•μ¤„μ”© μ„ μ–Έλ° μ΄κΈ°ν™”κ°€ μ§„ν–‰λ ν•νƒλΌκ³  ν•μ€λ‹¤.

        μ¦‰, μ²μλ¶€ν„° μ΄κ² κ°€λ¥ν•΄μ•Ό νλΌλ―Έν„°μ— constλ¥Ό λ¶™μ—¬ μƒμν™” ν•λ” κ²ƒμ΄ κ°€λ¥ν•λ©°

        μμ‹μ²λΌ λ¦¬ν„°λ΄ μƒμλ¥Ό λ°”λ΅ λ„κ²¨ μ‚¬μ©μ΄ κ°€λ¥ν•λ‹¤.

    - μ •λ¦¬

        2λ” **ν•¨μμ λ¦¬ν„΄κ°’μ΄ μ„μ‹ κ°μ²΄λ΅ μ‚΄μ•„μλ” κ²ƒ**μ„ μ΄μ©ν–κ³ 

        3μ€ **λ¦¬ν„°λ΄κ°’μ΄ μ„μ‹λ΅ μ‚΄μ•„ μλ” κ²ƒ**μ„ μ΄μ©ν• μ›λ¦¬μ΄λ‹¤.


3. `swap()` ν•¨μλ¥Ό μ‚¬μ©ν•λ©΄ temp λ³€μ μ—†μ΄ νΈν•κ² λ³€μλΌλ¦¬ κ°’ μ΄λ™μ΄ κ°€λ¥ν•λ‹¤.

μ΄κ²ƒμ„ **copy/swap idiom** μ΄λΌκ³  λ¶€λ¥΄λ©° c++ idiom μ¤‘μ— ν•λ‚μ΄λ‹¤.
